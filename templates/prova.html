
<html lang="en-US">
    <head>
      <meta charset="utf-8" />
      <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
      <meta name="viewport" content="width=device-width, initial-scale=1" />
      <title>chartjs-plugin-trace / sample</title>
      <link rel="stylesheet" type="text/css" href="index.css" />
      <link rel="icon" type="image/ico" href="favicon.ico" />
  
      <script src="https://cdn.jsdelivr.net/npm/moment@2.24.0/moment.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0/dist/Chart.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-crosshair@1.1.4/dist/chartjs-plugin-crosshair.min.js"></script>    </head>
    <body>


      <div class="chart"><canvas id="chart6"></canvas></div>

    </body>
  
    <script>
      function generateDataset(shift, label, color) {
        var data = [];
        var x = 0;
  
        while (x < 30) {
          data.push({ x: x, y: Math.sin(shift + x / 3) });
          x += Math.random();
        }
  
        var dataset = {
          backgroundColor: color,
          borderColor: color,
          showLine: true,
          fill: false,
          pointRadius: 2,
          label: label,
          data: data,
          lineTension: 0,
          interpolate: true
        };
        return dataset;
      }
      function generate(x1,x2) {

if(moment.isMoment(x1)) {
  // translate time to x1, x2
  x1 = -2 - moment().add(-2*86400, 'seconds').diff(x1, 'seconds') / 86400
  x2 = 2 - moment().add(2*86400, 'seconds').diff(x2, 'seconds') / 86400
}

var data = [];
var x = x1;

a = 0.7
b = 8

t = moment().add(x1*86400, 'seconds')
t2 = moment().add(x2*86400, 'seconds')

while (x <= x2) {
  y = 0
  for(var n=0;n<10;n++) {
    y+= Math.pow(a,n)*Math.cos(Math.pow(b,n)*3.14*x)
  }
  data.push({x:moment().add(x*86400, 'seconds'), y:y})

  x += (x2-x1)/100
}

return data
}






var chart6 = new Chart(document.getElementById("chart6").getContext("2d"), {
    type: "scatter",
    
    options: {
      events: ['mouseout', 'click', 'touchstart', 'touchmove'],
      tooltips: {
      mode: 'interpolate',
      intersect: false
    },
    plugins: {
      crosshair: {
        line: {
          color: '#F66',  // crosshair line color
          width: 1        // crosshair line width
        },
        sync: {
          enabled: true,            // enable trace line syncing with other charts
          group: 1,                 // chart group
          suppressTooltips: false   // suppress tooltips when showing a synced tracer
        },
        zoom: {
          enabled: false,                                      // enable zooming
          zoomboxBackgroundColor: 'rgba(66,133,244,0.2)',     // background color of zoom box 
          zoomboxBorderColor: '#48F',                         // border color of zoom box
          zoomButtonText: 'Reset Zoom',                       // reset zoom button text
          zoomButtonClass: 'reset-zoom',                      // reset zoom button class
        },
        callbacks: {
          beforeZoom: function(start, end) {                  // called before zoom, return false to prevent zoom
            return true;
          },
          afterZoom: function(start, end) {                   // called after zoom
          }
        }
      }
    }
    },
      
    data: {
      datasets: [{
        backgroundColor: 'red',
        borderColor: 'red',
        showLine: true,
        fill: false,
        label: 'function',
        pointRadius: 0,
        data: generate(-2,2),
        lineTension: 0,
        interpolate: true
    }]
    }
  });
</script>
</html>